import{r as x,W as R,j as e,Y as _}from"./app-QyOjol07.js";import{A as B}from"./AuthenticatedLayout-CfihgCgw.js";import{I as a}from"./InputLabel-COpfo871.js";import{T as l}from"./TextInput-wCNhdcLD.js";import{p as r,S as m,a as h,b as g,c as u,d as j,e as f,f as c}from"./index-_gip9VlP.js";import{C as I,a as T,b as E,c as k,d as L}from"./card-xBri0DGg.js";import{B as M}from"./button-DnKxNZl-.js";import"./transition-DYjiKYoY.js";import"./shadcn-C-5SdYIA.js";import"./index-DtomHhIh.js";import"./index-XeapxXLV.js";function Z({auth:d}){x.useState();const[v,y]=x.useState([]),{data:O,setData:t,post:C,processing:N,errors:V,reset:D,progress:G}=R({user_id:d.user.id,property_name:"",property_address:"",city:"",postal:"",price:"",availability:"",bathroom:"",kitchen:"",other:"",rules:"",curfew:"",image:null}),b=s=>{if(s.length>3){alert("Please select up to 3 images.");return}for(let i=0;i<s.length;i++){const o=s[i];t("image",o),console.log(`Uploaded image ${i+1}:`,o)}};x.useEffect(()=>{const s=r.getProvincesByRegion("09"),i=r.getProvincesByRegion("10"),o=r.getProvincesByRegion("11"),w=r.getProvincesByRegion("12"),S=r.getProvincesByRegion("15"),F=r.getProvincesByRegion("16");s.concat(i,o,w,S,F);const A=o.map(n=>r.getCityMunByProvince(n.prov_code));Promise.all(A).then(n=>{const p=n.flat();console.log(p),y(p)}).catch(n=>{console.error("Error fetching cities:",n)})},[]);const P=s=>{s.preventDefault(),C(route("landlord.store"))};return e.jsxs(B,{user:d.user,children:[e.jsx(_,{title:"AddListing"}),e.jsx("div",{className:"py-12 ",children:e.jsx("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8 ",children:e.jsxs(I,{className:"px-3 pt-2 rounded-sm font-sans text-2xl text-white",children:[e.jsx(T,{className:"bg-[#366359] m-1 rounded-md",children:e.jsx(E,{children:"PROPERTY REGISTRATION "})}),e.jsxs("form",{onSubmit:P,children:[e.jsxs(k,{className:" text-gray-900 grid  gap-1",children:[e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"property_name",value:"Property Name"}),e.jsx(l,{id:"property_name",name:"property_name",type:"text",onChange:s=>t("property_name",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"property_address",value:"Property Address"}),e.jsx(l,{id:"property_address",name:"property_address",type:"text",onChange:s=>t("property_address",s.target.value)})]}),e.jsxs("div",{className:"grid sm:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"city",value:"City"}),e.jsxs(m,{onValueChange:s=>t("city",s),children:[e.jsx(h,{className:"w-full",children:e.jsx(g,{placeholder:"Select City"})}),e.jsx(u,{className:"w-full",children:e.jsxs(j,{children:[e.jsx(f,{children:"City"}),v.map(s=>e.jsx(c,{value:s.name,children:s.name},s.reg_code))]})})]})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"postal",value:"Postal Code"}),e.jsx(l,{id:"postal",name:"postal",type:"text",onChange:s=>t("postal",s.target.value)})]})]}),e.jsxs("div",{className:"grid sm:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"bathroom",value:"Bathroom"}),e.jsx(l,{id:"bathroom",name:"bathroom",type:"text",onChange:s=>t("bathroom",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"kitchen",value:"Kitchen"}),e.jsx(l,{id:"kitchen",name:"kitchen",type:"text",onChange:s=>t("kitchen",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"rules",value:"Rules"}),e.jsx(l,{id:"rules",name:"rules",type:"text",onChange:s=>t("rules",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"curfew",value:"Curfew"}),e.jsx(l,{id:"curfew",name:"curfew",type:"text",onChange:s=>t("curfew",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"availability",value:"Availability"}),e.jsxs(m,{onValueChange:s=>t("availability",s),children:[e.jsx(h,{className:"w-full",children:e.jsx(g,{placeholder:"Select Availability"})}),e.jsx(u,{className:"w-full",children:e.jsxs(j,{children:[e.jsx(f,{children:"Availability"}),e.jsx(c,{value:"Available",children:"Available"}),e.jsx(c,{value:"Not Available",children:"Not Available"}),e.jsx(c,{value:"Soon",children:"Soon"})]})})]})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"price",value:"Price Per Month"}),e.jsx(l,{id:"price",name:"price",type:"text",onChange:s=>t("price",s.target.value)})]})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"other",value:"Other Amenities"}),e.jsx(l,{id:"other",name:"other",type:"text",onChange:s=>t("other",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col pt-2 px-3 gap-2",children:[e.jsx(a,{htmlFor:"image",value:"Upload Image"}),e.jsx("input",{type:"file",className:"border-2 border-gray-200 bg-white rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"images",name:"images",accept:"image/*",multiple:!0,onChange:s=>b(s.target.files)})]})]}),e.jsx(L,{className:"font-sans text-white flex-1 justify-center",children:e.jsx(M,{variant:"default",disabled:N,className:"hover:bg-gray-400 ",size:"sm",children:"Create"})})]})]})})})]})}export{Z as default};
